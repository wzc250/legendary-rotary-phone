<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>QQÊäΩÂ•ñÂä©Êâã</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            line-height: 1.6;
            padding: 15px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .container {
            width: 100%;
            max-width: 600px;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            position: relative;
        }
        
        header {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            color: white;
            padding: 20px 15px;
            text-align: center;
            position: relative;
        }
        
        header h1 {
            font-size: 1.7rem;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            line-height: 1.3;
        }
        
        header p {
            font-size: 0.95rem;
            opacity: 0.9;
        }
        
        .user-info {
            background: #f8f9fa;
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid #eee;
            font-weight: bold;
            color: #ff4b2b;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .user-info span {
            padding: 4px 12px;
            background: #e9ecef;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .section {
            padding: 18px 15px;
            border-bottom: 1px solid #eee;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            color: #ff416c;
        }
        
        .section-title h2 {
            font-size: 1.35rem;
        }
        
        .admin-section {
            border: 3px solid #ff416c;
            border-radius: 12px;
            padding: 18px;
            margin: 15px 0;
            background: #fff9f9;
        }
        
        .admin-label {
            background: #ff416c;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 15px;
            font-size: 0.9rem;
        }
        
        .prize-item {
            display: flex;
            margin-bottom: 12px;
            gap: 10px;
        }
        
        .prize-item input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            font-size: 1rem;
            transition: border-color 0.3s;
            background: #fff;
        }
        
        .prize-item input:focus {
            border-color: #ff416c;
            outline: none;
        }
        
        .btn {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(255, 65, 108, 0.3);
            width: 100%;
            margin-top: 10px;
            font-size: 1.05rem;
        }
        
        .btn:active {
            transform: translateY(2px);
            box-shadow: 0 2px 8px rgba(255, 65, 108, 0.3);
        }
        
        #addPrize {
            background: linear-gradient(to right, #38ef7d, #11998e);
            box-shadow: 0 4px 12px rgba(56, 239, 125, 0.3);
        }
        
        #drawButton {
            background: linear-gradient(to right, #ff9966, #ff5e62);
            padding: 16px;
            font-size: 1.15rem;
            margin-top: 15px;
            box-shadow: 0 4px 12px rgba(255, 94, 98, 0.3);
        }
        
        .winner-list {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 15px;
            margin-top: 15px;
        }
        
        .winner-item {
            padding: 14px;
            margin: 12px 0;
            background: linear-gradient(to right, #e0f7fa, #bbdefb);
            border-radius: 12px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.08);
            animation: fadeIn 0.5s ease;
        }
        
        .winner-item strong {
            color: #ff5e62;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 5px;
        }
        
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 14px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
            font-size: 0.95rem;
        }
        
        .hidden {
            display: none;
        }
        
        .instructions {
            background: #fff8e1;
            border-left: 4px solid #ffc107;
            padding: 14px;
            border-radius: 0 8px 8px 0;
            margin-top: 15px;
            font-size: 0.85rem;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .counter {
            display: flex;
            justify-content: space-around;
            text-align: center;
            margin: 15px 0;
            gap: 10px;
        }
        
        .counter-item {
            background: #f0f4ff;
            padding: 14px 10px;
            border-radius: 12px;
            flex: 1;
            box-shadow: 0 3px 8px rgba(0,0,0,0.05);
        }
        
        .counter-item h3 {
            color: #5e72e4;
            margin-bottom: 8px;
            font-size: 0.95rem;
        }
        
        .counter-item .number {
            font-size: 1.7rem;
            font-weight: bold;
            color: #ff5e62;
            line-height: 1.2;
        }
        
        footer {
            text-align: center;
            padding: 15px;
            color: #6c757d;
            font-size: 0.8rem;
            background: #f8f9fa;
        }
        
        .toast {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.85);
            color: white;
            padding: 12px 25px;
            border-radius: 30px;
            z-index: 1000;
            animation: fadeInOut 2.5s;
            display: none;
            max-width: 90%;
            text-align: center;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; top: 10px; }
            10% { opacity: 1; top: 20px; }
            90% { opacity: 1; top: 20px; }
            100% { opacity: 0; top: 10px; }
        }
        
        .error-message {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 12px;
            border-radius: 0 8px 8px 0;
            margin: 10px 0;
            color: #d32f2f;
            font-size: 0.9rem;
            display: none;
        }
        
        @media (max-width: 480px) {
            header h1 {
                font-size: 1.5rem;
            }
            
            .section {
                padding: 15px 12px;
            }
            
            .prize-item {
                flex-direction: column;
                gap: 12px;
            }
            
            .counter {
                flex-direction: column;
                gap: 12px;
            }
            
            .btn {
                padding: 15px 20px;
            }
        }
        
        .icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            margin-right: 8px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div class="toast" id="toast"></div>
    
    <div class="container">
        <header>
            <h1>üéâ QQÊäΩÂ•ñÂä©Êâã</h1>
            <p>ÊâìÂºÄÂç≥ÂèÇ‰∏éÔºåÂÖ¨Âπ≥ÈÄèÊòé</p>
        </header>
        
        <div class="user-info">
            <span id="userName">Âä†ËΩΩ‰∏≠...</span>
            <span id="userRole">ÂèÇ‰∏éËÄÖ</span>
        </div>
        
        <div class="section">
            <div class="section-title">
                <h2>üìä ÊäΩÂ•ñÁªüËÆ°</h2>
            </div>
            
            <div class="counter">
                <div class="counter-item">
                    <h3>üë• ÂèÇ‰∏éËÄÖ</h3>
                    <div class="number" id="participantCount">0</div>
                </div>
                <div class="counter-item">
                    <h3>üèÜ Â•ñÈ°πÊï∞</h3>
                    <div class="number" id="prizeCount">0</div>
                </div>
                <div class="counter-item">
                    <h3>üéÅ Â•ñÂìÅÊï∞</h3>
                    <div class="number" id="awardCount">0</div>
                </div>
            </div>
            
            <div class="info-box">
                <p>‚úÖ ÊÇ®Â∑≤Ëá™Âä®Âä†ÂÖ•ÊäΩÂ•ñÊ¥ªÂä®ÔºÅ‰∏≠Â•ñÁªìÊûúÂ∞ÜÂú®ÊäΩÂ•ñÁªìÊùüÂêéÂÖ¨Â∏É„ÄÇ</p>
            </div>
            
            <div class="error-message" id="errorMessage"></div>
        </div>
        
        <div id="adminSection" class="section hidden">
            <div class="section-title">
                <h2>üëë ÁÆ°ÁêÜÂëòÊéßÂà∂Èù¢Êùø</h2>
            </div>
            
            <div class="admin-section">
                <span class="admin-label">üîí Â•ñÈ°πËÆæÁΩÆ</span>
                
                <div id="prizesContainer">
                    <div class="prize-item">
                        <input type="text" placeholder="‰∏ÄÁ≠âÂ•ñÔºàÂ¶ÇÔºöiPhone 15Ôºâ" class="prize-name" value="‰∏ÄÁ≠âÂ•ñ">
                        <input type="number" placeholder="Êï∞Èáè" class="prize-count" min="1" value="1">
                    </div>
                    <div class="prize-item">
                        <input type="text" placeholder="‰∫åÁ≠âÂ•ñÔºàÂ¶ÇÔºöAirPods ProÔºâ" class="prize-name" value="‰∫åÁ≠âÂ•ñ">
                        <input type="number" placeholder="Êï∞Èáè" class="prize-count" min="1" value="2">
                    </div>
                </div>
                
                <button id="addPrize" class="btn">‚ûï Ê∑ªÂä†Â•ñÈ°π</button>
                <button id="drawButton" class="btn">üé≤ ÂºÄÂßãÊäΩÂ•ñ</button>
            </div>
            
            <div class="instructions">
                <p>‚ÑπÔ∏è ÊèêÁ§∫ÔºöÊäΩÂ•ñÂ∞ÜÈöèÊú∫‰ªéÊâÄÊúâÂèÇ‰∏éËÄÖ‰∏≠ÊäΩÂèñ‰∏≠Â•ñËÄÖÔºåÊØè‰∏™ÂèÇ‰∏éËÄÖÂè™ËÉΩ‰∏≠Â•ñ‰∏ÄÊ¨°„ÄÇ</p>
            </div>
        </div>
        
        <div class="section">
            <div class="section-title">
                <h2>üèÖ ‰∏≠Â•ñÂêçÂçï</h2>
            </div>
            
            <div class="winner-list" id="winnersContainer">
                <div class="winner-item">
                    <strong>Á≠âÂæÖÂºÄÂ•ñ...</strong> 
                    <p>ÊäΩÂ•ñÁªìÊùüÂêéÂ∞ÜÂú®Ê≠§Â§ÑÂÖ¨Â∏É‰∏≠Â•ñÂêçÂçï</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>üí° ÊèêÁ§∫ÔºöÈïøÊåâÈ°µÈù¢ÂèØÁôªÂΩïÁÆ°ÁêÜÂëòË¥¶Âè∑ | ÈªòËÆ§ÂØÜÁ†ÅÔºöadmin123</p>
        </footer>
    </div>

    <script>
        // ÁÆ°ÁêÜÂëòÂØÜÁ†Å
        const ADMIN_PASSWORD = "admin123";
        
        // ÊòæÁ§∫ToastÊèêÁ§∫
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            
            setTimeout(() => {
                toast.style.display = 'none';
            }, 2500);
        }
        
        // ÊòæÁ§∫ÈîôËØØ‰ø°ÊÅØ
        function showError(message) {
            const errorElement = document.getElementById('errorMessage');
            errorElement.textContent = message;
            errorElement.style.display = 'block';
            
            // 5ÁßíÂêéËá™Âä®ÈöêËóè
            setTimeout(() => {
                errorElement.style.display = 'none';
            }, 5000);
        }
        
        // ÁîüÊàêÁî®Êà∑ÂîØ‰∏ÄID
        function generateUserId() {
            return 'user-' + Math.random().toString(36).substr(2, 9);
        }
        
        // Ëé∑ÂèñÊàñÂàõÂª∫Áî®Êà∑ID
        function getOrCreateUserId() {
            let userId = localStorage.getItem('qqLotteryUserId');
            if (!userId) {
                userId = generateUserId();
                localStorage.setItem('qqLotteryUserId', userId);
            }
            return userId;
        }
        
        // Ëé∑ÂèñÁî®Êà∑Âêç
        function getUserName() {
            let userName = localStorage.getItem('qqLotteryUserName');
            if (!userName) {
                // ÁîüÊàêÊúâË∂£ÁöÑÈöèÊú∫Áî®Êà∑Âêç
                const adjectives = ['Âø´‰πê', 'ËÅ™Êòé', 'Âπ∏Ëøê', 'ÂãáÊï¢', 'Èò≥ÂÖâ', 'Êú∫Êô∫', 'È≠ÖÂäõ', 'Êó†Êïå'];
                const nouns = ['ÁÜäÁå´', 'ËÄÅËôé', 'ÁãÆÂ≠ê', 'Êµ∑Ë±ö', 'ÁåéË±π', 'Âá§Âá∞', 'Â∑®Èæô', 'È∫íÈ∫ü'];
                const adj = adjectives[Math.floor(Math.random() * adjectives.length)];
                const noun = nouns[Math.floor(Math.random() * nouns.length)];
                userName = adj + noun + Math.floor(Math.random() * 1000);
                localStorage.setItem('qqLotteryUserName', userName);
            }
            return userName;
        }
        
        // Ê£ÄÊü•ÊòØÂê¶ÊòØÁÆ°ÁêÜÂëò
        function checkAdmin() {
            return localStorage.getItem('qqLotteryIsAdmin') === 'true';
        }
        
        // ÂàùÂßãÂåñÁî®Êà∑‰ø°ÊÅØ
        function initUserInfo() {
            try {
                const userId = getOrCreateUserId();
                const userName = getUserName();
                const isAdmin = checkAdmin();
                
                document.getElementById('userName').textContent = userName;
                document.getElementById('userRole').textContent = isAdmin ? 'ÁÆ°ÁêÜÂëò' : 'ÂèÇ‰∏éËÄÖ';
                document.getElementById('userRole').style.background = isAdmin ? '#ff416c' : '#38ef7d';
                document.getElementById('userRole').style.color = 'white';
                
                if (isAdmin) {
                    document.getElementById('adminSection').classList.remove('hidden');
                }
                
                // Ëá™Âä®Âä†ÂÖ•ÂèÇ‰∏éËÄÖÂàóË°®
                addParticipant(userId, userName);
                updateCounters();
                displayWinners();
            } catch (e) {
                console.error('ÂàùÂßãÂåñÈîôËØØ:', e);
                showError('ÂàùÂßãÂåñÂ§±Ë¥•ÔºåËØ∑Âà∑Êñ∞È°µÈù¢ÊàñÊõ¥Êç¢ÊµèËßàÂô®');
            }
        }
        
        // Ê∑ªÂä†ÂèÇ‰∏éËÄÖÂà∞ÂàóË°®
        function addParticipant(userId, userName) {
            try {
                let participants = JSON.parse(localStorage.getItem('qqLotteryParticipants') || '{}');
                if (!participants[userId]) {
                    participants[userId] = userName;
                    localStorage.setItem('qqLotteryParticipants', JSON.stringify(participants));
                    updateCounters();
                }
            } catch (e) {
                console.error('Ê∑ªÂä†ÂèÇ‰∏éËÄÖÂ§±Ë¥•:', e);
                showError('Êó†Ê≥ïÊ∑ªÂä†ÂèÇ‰∏éËÄÖÔºåËØ∑Ê£ÄÊü•ÊµèËßàÂô®ËÆæÁΩÆ');
            }
        }
        
        // Êõ¥Êñ∞ËÆ°Êï∞Âô®
        function updateCounters() {
            try {
                const participants = JSON.parse(localStorage.getItem('qqLotteryParticipants') || '{}');
                const prizes = JSON.parse(localStorage.getItem('qqLotteryPrizes') || '[]');
                
                document.getElementById('participantCount').textContent = Object.keys(participants).length;
                document.getElementById('prizeCount').textContent = prizes.length;
                
                const awardCount = prizes.reduce((sum, prize) => sum + (prize.count || 1), 0);
                document.getElementById('awardCount').textContent = awardCount;
            } catch (e) {
                console.error('Êõ¥Êñ∞ËÆ°Êï∞Âô®Â§±Ë¥•:', e);
            }
        }
        
        // Ê∑ªÂä†Â•ñÈ°π
        document.getElementById('addPrize').addEventListener('click', function() {
            const container = document.getElementById('prizesContainer');
            const newPrize = document.createElement('div');
            newPrize.className = 'prize-item';
            newPrize.innerHTML = `
                <input type="text" placeholder="Â•ñÈ°πÂêçÁß∞" class="prize-name">
                <input type="number" placeholder="Êï∞Èáè" class="prize-count" min="1" value="1">
            `;
            container.appendChild(newPrize);
            showToast('Â∑≤Ê∑ªÂä†‰∏Ä‰∏™Êñ∞Â•ñÈ°π');
        });
        
        // ÊäΩÂ•ñÂäüËÉΩ
        document.getElementById('drawButton').addEventListener('click', function() {
            if (!checkAdmin()) {
                showToast('Âè™ÊúâÁÆ°ÁêÜÂëòÂèØ‰ª•ÊäΩÂ•ñ');
                return;
            }
            
            // Ëé∑ÂèñÊâÄÊúâÂ•ñÈ°π
            const prizeItems = document.querySelectorAll('.prize-item');
            const prizes = [];
            prizeItems.forEach(item => {
                const name = item.querySelector('.prize-name').value;
                const count = parseInt(item.querySelector('.prize-count').value) || 1;
                if (name) {
                    prizes.push({name, count});
                }
            });
            
            if (prizes.length === 0) {
                showError('ËØ∑Ëá≥Â∞ëËÆæÁΩÆ‰∏Ä‰∏™Â•ñÈ°πÔºÅ');
                return;
            }
            
            // ‰øùÂ≠òÂ•ñÈ°πËÆæÁΩÆ
            localStorage.setItem('qqLotteryPrizes', JSON.stringify(prizes));
            showToast('Â•ñÈ°πËÆæÁΩÆÂ∑≤‰øùÂ≠ò');
            
            // Ëé∑ÂèñÂèÇ‰∏éËÄÖ
            let participants = {};
            try {
                participants = JSON.parse(localStorage.getItem('qqLotteryParticipants') || {};
            } catch (e) {
                showError('Êó†Ê≥ïËé∑ÂèñÂèÇ‰∏éËÄÖÊï∞ÊçÆ');
                return;
            }
            
            const participantList = Object.entries(participants);
            
            if (participantList.length === 0) {
                showError('ÊöÇÊó†ÂèÇ‰∏éËÄÖÔºåÊó†Ê≥ïÊäΩÂ•ñ');
                return;
            }
            
            // Ê£ÄÊü•ÂèÇ‰∏éËÄÖÊï∞ÈáèÊòØÂê¶Ë∂≥Â§ü
            const totalPrizes = prizes.reduce((sum, prize) => sum + prize.count, 0);
            if (participantList.length < totalPrizes) {
                showError(`ÂèÇ‰∏éËÄÖ‰∏çË∂≥: ${participantList.length}‰∫∫ < Â•ñÂìÅ${totalPrizes}‰∏™`);
                return;
            }
            
            // ÂºÄÂßãÊäΩÂ•ñ
            const winnersContainer = document.getElementById('winnersContainer');
            winnersContainer.innerHTML = '';
            
            // Â§çÂà∂ÂèÇ‰∏éËÄÖÊï∞ÁªÑÁî®‰∫éÊäΩÂ•ñ
            let remainingParticipants = [...participantList];
            const allWinners = [];
            
            prizes.forEach(prize => {
                const prizeWinners = [];
                
                for (let i = 0; i < prize.count; i++) {
                    if (remainingParticipants.length === 0) break;
                    
                    // ÈöèÊú∫ÈÄâÊã©‰∏≠Â•ñËÄÖ
                    const randomIndex = Math.floor(Math.random() * remainingParticipants.length);
                    const [winnerId, winnerName] = remainingParticipants[randomIndex];
                    prizeWinners.push(winnerName);
                    
                    // ‰ªéÂâ©‰ΩôÂèÇ‰∏éËÄÖ‰∏≠ÁßªÈô§‰∏≠Â•ñËÄÖ
                    remainingParticipants.splice(randomIndex, 1);
                    
                    // ËÆ∞ÂΩï‰∏≠Â•ñËÄÖ‰ø°ÊÅØ
                    allWinners.push({
                        prize: prize.name,
                        name: winnerName,
                        id: winnerId
                    });
                }
                
                if (prizeWinners.length > 0) {
                    const winnerElement = document.createElement('div');
                    winnerElement.className = 'winner-item';
                    winnerElement.innerHTML = `
                        <strong>${prize.name}:</strong> ${prizeWinners.join('„ÄÅ')}
                    `;
                    winnersContainer.appendChild(winnerElement);
                }
            });
            
            // ‰øùÂ≠ò‰∏≠Â•ñÁªìÊûú
            localStorage.setItem('qqLotteryWinners', JSON.stringify(allWinners));
            updateCounters();
            
            // ÊòæÁ§∫ÊäΩÂ•ñÂÆåÊàêÊ∂àÊÅØ
            const winnerTitle = document.createElement('div');
            winnerTitle.className = 'winner-item';
            winnerTitle.style.background = 'linear-gradient(to right, #ffecd2, #fcb69f)';
            winnerTitle.innerHTML = '<strong>üéâ ÊäΩÂ•ñÂ∑≤ÂÆåÊàêÔºÅÊÅ≠ÂñúÊâÄÊúâ‰∏≠Â•ñËÄÖÔºÅ</strong>';
            winnersContainer.insertBefore(winnerTitle, winnersContainer.firstChild);
            
            showToast('ÊäΩÂ•ñÂÆåÊàêÔºÅÁªìÊûúÂ∑≤ÂÖ¨Â∏É');
        });
        
        // ÊòæÁ§∫‰∏≠Â•ñÁªìÊûú
        function displayWinners() {
            try {
                const winners = JSON.parse(localStorage.getItem('qqLotteryWinners') || '[]';
                const winnersContainer = document.getElementById('winnersContainer');
                
                if (winners.length === 0) {
                    winnersContainer.innerHTML = '<div class="winner-item"><strong>Á≠âÂæÖÂºÄÂ•ñ...</strong><p>ÊäΩÂ•ñÁªìÊùüÂêéÂ∞ÜÂú®Ê≠§Â§ÑÂÖ¨Â∏É‰∏≠Â•ñÂêçÂçï</p></div>';
                    return;
                }
                
                // ÊåâÂ•ñÈ°πÂàÜÁªÑ
                Const prizeGroups = {};
                winners.foreach(winner => {
                    Â¶ÇÊûú (!prizeGroups[winner.Â•ñ]) {
                        prizeGroups[winner.Â•ñ] = [];
                    }
                    prizeGroups[winner.Â•ñ].push(winner.name);
                });
                
                winnersContainer.innerHTML = '';
                
                // Ê∑ªÂä†Ê†áÈ¢ò
                Const winnerTitle = document.createElement('div');
                winnerTitle.className = 'winner-item';
                winnerTitle.style.background = 'linear-gradient(to right, #ffecd2, #fcb69f)';
                winnerTitle.innerHTML = '<strong>üèÜ ‰∏≠Â•ñÂêçÂçïÂÖ¨Â∏É</strong>';
                winnersContainer.appendChild(winnerTitle);
                
// Ê∑ªÂä†‰∏≠Â•ñ‰ø°ÊÅØ
ÂØπË±°„ÄÇÂèÇËµõ‰ΩúÂìÅ(prizeGroups)„ÄÇ‰∏∫([ÊØè‰∏™([[Â•ñÂìÅ„ÄÅÂêçÁß∞])ÂØπË±°„ÄÇÂèÇËµõ‰ΩúÂìÅ(prizeGroups)„ÄÇ‰∏∫([ÊØè‰∏™([[Â•ñÂìÅ„ÄÅÂêçÁß∞])ÂØπË±°„ÄÇÂèÇËµõ‰ΩúÂìÅ(prizeGroups)„ÄÇ‰∏∫([ÊØè‰∏™([[Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞]){])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞]){])(Â•ñÂìÅÁªÑ)„ÄÇ‰∏∫([ÊØè‰∏™([[Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞]){])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞]){])=>{(])(])(])(])=>{])]){])])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>=>{])=>=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{([ÊØè‰∏Ä‰∏™([Â•ñÂìÅ„ÄÅÂêçÁß∞])=>{])=>{
constConstwinnerElementconstConstwinnerElement=ÊñáÊ°£„ÄÇcreateElement('div')ÔºõcreateElement('div')ÔºõcreateElement('div')ÔºõcreateElement('div')ÔºõÊñáÊ°£„ÄÇcreateElement('div')ÔºõcreateElement('div')ÔºõcreateElement('div')ÔºõcreateElement('div')Ôºõ
.className='winner-item'Ôºõ'winner-item'Ôºõ
winnerElement.innerHTML="
<Âº∫Â§ßÁöÑ>${Â•ñ}Ôºö</strong>${names.join('„ÄÅ')}Âº∫Â§ßÁöÑ>${Â•ñ}Ôºö</strong>${‰∏™ÂêçÁß∞„ÄÇÂèÇÂä†('„ÄÅ')}
`;
Ëµ¢ÂÆ∂ÈõÜË£ÖÁÆ±„ÄÇappendChild(winnerElement)Ôºõ(winnerElement)Ôºõ
                });
}Ê∏îËé∑Áâ©(e){
ÊéßÂà∂Âè∞„ÄÇËØØÂ∑Æ('ÊòæÁ§∫‰∏≠Â•ñÂêçÂçïÂ§±Ë¥•Ôºö'Ôºåe)Ôºõ('ÊòæÁ§∫‰∏≠Â•ñÂêçÂçïÂ§±Ë¥•Ôºö'Ôºåe)Ôºõ
Ëµ¢ÂÆ∂ÈõÜË£ÖÁÆ±„ÄÇinnerHTML='<div class="winner-item"><strong>Êï∞ÊçÆÈîôËØØ</strong><p>Êó†Ê≥ïÂä†ËΩΩ‰∏≠Â•ñÂêçÂçïÔºåËØ∑ÈáçÊñ∞ÊäΩÂ•ñ</p></div>'Ôºõ'<divÁè≠Á∫ß="winner-item"><strong>Êï∞ÊçÆÈîôËØØ</strong><p>Êó†Ê≥ïÂä†ËΩΩ‰∏≠Â•ñÂêçÂçïÔºåËØ∑ÈáçÊñ∞ÊäΩÂ•ñ</p></div>'Ôºõ
            }
        }
        
// ÁÆ°ÁêÜÂëòÁôªÂΩï
ÂáΩÊï∞adminLogin(){
Â∏∏ÈáèÂØÜÁ†Å=ÊèêÁ§∫Á¨¶('ËØ∑ËæìÂÖ•ÁÆ°ÁêÜÂëòÂØÜÁ†ÅÔºö')Ôºõ
Â¶ÇÊûú(ÂØÜÁ†Å===admin_PASSWORD){(ÂØÜÁ†Å===admin_PASSWORD){
localStoragelocalStorage„ÄÇsetitem('"QLotteryIsAdmin'Ôºå'true')Ôºõ('"QLotteryIsAdmin'Ôºå'true')Ôºõ
showToast('ÁÆ°ÁêÜÂëòÁôªÂΩïÊàêÂäüÔºÅÈ°µÈù¢Âà∑Êñ∞‰∏≠...')Ôºõ('ÁÆ°ÁêÜÂëòÁôªÂΩïÊàêÂäüÔºÅÈ°µÈù¢Âà∑Êñ∞‰∏≠...
setTimeout(()=>{
‰ΩçÁΩÆ„ÄÇ ÈáçËΩΩ()Ôºõ()Ôºõ
}, 1500);
}}ÂÖ∂‰ªñ Â¶ÇÊûú(ÂØÜÁ†ÅÔºÅ ==Á©∫){(ÂØÜÁ†ÅÔºÅ ==Á©∫){
showToast('ÂØÜÁ†ÅÈîôËØØÔºÅ')Ôºõ
            }
        }
        
// ÂàùÂßãÂåñÈ°µÈù¢
Á™óÊà∑„ÄÇaddEventListener('DOMContentLoaded'ÔºåÂáΩÊï∞(){('DOMContentLoaded'ÔºåÂáΩÊï∞(){
// ÂàùÂßãÂåñ
initUserInfo()Ôºõ
            
// Ê∑ªÂä†ÈïøÊåâ‰∫ã‰ª∂ÔºàÊâãÊú∫Á´ØÁÆ°ÁêÜÂëòÁôªÂΩïÔºâ
ËÆ©Êåâ‰∏ãËÆ°Êó∂Âô®Ôºõ
Êñá‰ª∂„ÄÇË∫´‰Ωì.addEventListener('touchstart'ÔºåÂáΩÊï∞(e){addEventListener('touchstart'ÔºåÂáΩÊï∞(e){
pressTimer=setTimeout(ÂáΩÊï∞(){
adminLogin()Ôºõ
}, 1000); // ÈïøÊåâ1Áßí
            });
            
Êñá‰ª∂„ÄÇË∫´‰Ωì„ÄÇaddEventListener('Ëß¶Êë∏'ÔºåÂáΩÊï∞(){('Ëß¶Êë∏'ÔºåÂáΩÊï∞(){
clearTimeout(ÊåâËÆ°Êó∂Âô®)Ôºõ
            });
            
// Âè≥ÈîÆ‰∫ã‰ª∂ÔºàÁîµËÑëÁ´ØÔºâ
Êñá‰ª∂„ÄÇaddEventListener('contextmenu'ÔºåÂáΩÊï∞(e){
e.preventDefaultpreventDefault()Ôºõ
adminLogin()Ôºõ
            });
        });
  </ËÑöÊú¨>
</Ë∫´‰Ωì>
</Ë∂ÖÊñáÊú¨Ê†áËÆ∞ËØ≠Ë®Ä>
